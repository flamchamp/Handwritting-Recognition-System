# clang-format config from Jonathan Pfeifer
BasedOnStyle: google
AllowShortBlocksOnASingleLine: false
AllowShortFunctionsOnASingleLine: None
AllowShortIfStatementsOnASingleLine: false
AllowShortLoopsOnASingleLine: false
BraceWrapping:
  AfterClass:            false
  AfterControlStatement: false
  AfterEnum:             false
  AfterFunction:         true
  AfterNamespace:        false
  AfterObjCDeclaration:  false
  AfterStruct:           false
  AfterUnion:            false
  BeforeCatch:           false
  BeforeElse:            true
  IndentBraces:          false
  SplitEmptyFunction:    true
  SplitEmptyRecord:      true
  SplitEmptyNamespace:   true
BreakBeforeBraces:            Custom
BreakBeforeTernaryOperators:  false
BreakConstructorInitializers: BeforeColon
BreakStringLiterals:          false
IncludeCategories:
  - Regex:           '.*'
    Priority:        1
  - Regex:           '^(<|"(gtest|gmock|isl|json)/)'
    Priority:        3
  - Regex:           '.*'
    Priority:        1
IncludeIsMainRegex: '(_test)?$'
IndentCaseLabels: true
IndentWidth:      2
IndentWrappedFunctionNames: false
KeepEmptyLinesAtTheStartOfBlocks: false
MaxEmptyLinesToKeep: 1
NamespaceIndentation: None
PointerAlignment: Left
ReflowComments:  true
SortIncludes:    true
SpaceAfterCStyleCast:           true
SpaceBeforeAssignmentOperators: true
SpaceBeforeParens:              ControlStatements
SpaceInEmptyParentheses:        false
SpacesBeforeTrailingComments:   2
SpacesInAngles:                 false
SpacesInCStyleCastParentheses:  false
SpacesInParentheses:            true
SpacesInSquareBrackets:         false
UseTab:          Never
# PP: add more configurations specific to alignment
AlignAfterOpenBracket:        Align
AlignConsecutiveAssignments:  true
AlignConsecutiveDeclarations: true
AlignEscapedNewlines:         Left
AlignOperands:                true
AlignTrailingComments:        true
# PP: comment pragmas -- don't break comments like this
CommentPragmas: '^(:|>|<)'
ColumnLimit: 80
